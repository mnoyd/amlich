{"id":"aml-79h","title":"Move cultural insights from desktop-only JS to Rust engine","description":"The desktop app has a rich insight system (origin, activities, food, taboos, proverbs, day guidance, tiết khí health/agriculture) built entirely in TypeScript. The shared data/ JSON files are partially read by Rust (holiday_data.rs reads only names+dates) while JS reads everything. Refactor: extend Rust core/api to parse all cultural data from the shared JSONs so that TUI, CLI, WASM, and desktop all get insights from a single Rust source.","status":"open","priority":1,"issue_type":"epic","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T17:09:00Z","created_by":"Hoang Manh","updated_at":"2026-02-20T17:09:00Z"}
{"id":"aml-9oa","title":"Extend holiday_data.rs to parse full festival/holiday cultural fields","description":"holiday_data.rs currently parses only names, dates, category, is_major from lunar-festivals.json and solar-holidays.json. Extend the serde structs to also parse: origin, activities, food, taboos, proverbs, regions (from festivals) and origin, significance, activities, traditions, food, taboos, proverbs, regions (from solar holidays). All bilingual (vi/en). This makes the full cultural data available in Rust.","status":"open","priority":0,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T17:09:07Z","created_by":"Hoang Manh","updated_at":"2026-02-20T17:09:07Z","dependencies":[{"issue_id":"aml-9oa","depends_on_id":"aml-79h","type":"parent-child","created_at":"2026-02-21T00:09:07Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-9oa","depends_on_id":"aml-eog","type":"blocks","created_at":"2026-02-21T00:09:24Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-9yc","title":"Add canchi.json and tiet-khi.json data loading to amlich-core","description":"amlich-core does not read canchi.json or tiet-khi.json at all. Add a new module (e.g. insight_data.rs) that include_str! embeds these files and parses with serde into: CanInfo (name, element, meaning, nature), ChiInfo (name, animal, element, meaning, hours), ElementInfo, DayGuidance (goodFor/avoidFor per chi), TietKhiInsight (name, meaning, astronomy, agriculture, health, weather). Use OnceLock pattern like holiday_data.rs. Provide lookup functions: find_can(), find_chi(), get_day_guidance(), find_tiet_khi_insight().","status":"open","priority":0,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T17:09:16Z","created_by":"Hoang Manh","updated_at":"2026-02-20T17:09:16Z","dependencies":[{"issue_id":"aml-9yc","depends_on_id":"aml-79h","type":"parent-child","created_at":"2026-02-21T00:09:16Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-9yc","depends_on_id":"aml-eog","type":"blocks","created_at":"2026-02-21T00:09:24Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-cmm","title":"Add insight panel to amlich-tui","description":"Add a scrollable cultural insight panel to the TUI, toggled with 'i' key. When active, shows below the 3-panel layout: festival/holiday origin and cultural info, NÊN LÀM / HẠN CHẾ (goodFor/avoidFor) guidance, tiết khí agriculture and health advice, proverbs, food. Consumes the new insight DTOs from amlich-api. Tab between vi/en with 'L' key.","status":"open","priority":1,"issue_type":"feature","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T17:09:32Z","created_by":"Hoang Manh","updated_at":"2026-02-20T17:09:32Z","dependencies":[{"issue_id":"aml-cmm","depends_on_id":"aml-79h","type":"parent-child","created_at":"2026-02-21T00:09:31Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-eog","title":"Expose insight data through amlich-api DTOs","description":"Add insight DTOs to amlich-api: FestivalInsightDto (origin, activities, food, taboos, proverbs, regions), HolidayInsightDto (origin, significance, traditions), CanChiInsightDto (meaning, nature, element info), DayGuidanceDto (goodFor, avoidFor), TietKhiInsightDto (meaning, astronomy, agriculture, health, weather). All bilingual. Extend DayInfoDto or add get_day_insight() API method that aggregates: is it a festival? what festival data? what Can Chi guidance? what tiết khí wellness advice?","status":"open","priority":1,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T17:09:24Z","created_by":"Hoang Manh","updated_at":"2026-02-20T17:09:24Z","dependencies":[{"issue_id":"aml-eog","depends_on_id":"aml-79h","type":"parent-child","created_at":"2026-02-21T00:09:24Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-eog","depends_on_id":"aml-cmm","type":"blocks","created_at":"2026-02-21T00:09:31Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-eog","depends_on_id":"aml-qge","type":"blocks","created_at":"2026-02-21T00:09:48Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-eog","depends_on_id":"aml-whc","type":"blocks","created_at":"2026-02-21T00:09:40Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-qge","title":"Add insight tests and parity verification","description":"Add tests to verify: 1) All 10 Can, 12 Chi, 5 Elements, 12 DayGuidance entries parse correctly, 2) All 24 tiết khí insight entries load with all fields, 3) Festival insight data matches for known dates (Tết, Trung Thu, etc.), 4) Parity: Rust insight output matches what the JS engine was producing for the same dates. Use golden fixture approach.","status":"open","priority":2,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T17:09:48Z","created_by":"Hoang Manh","updated_at":"2026-02-20T17:09:48Z","dependencies":[{"issue_id":"aml-qge","depends_on_id":"aml-79h","type":"parent-child","created_at":"2026-02-21T00:09:48Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-whc","title":"Migrate desktop app to consume Rust insight API instead of JS insight engine","description":"After the Rust API exposes insight DTOs via Tauri commands, refactor the desktop app to: 1) Remove apps/desktop/src/lib/insights/ TypeScript insight engine entirely, 2) Replace buildDateInsight() calls with Tauri invoke to the new Rust insight API, 3) Keep DateInsightBox.svelte rendering but feed it data from Rust DTOs instead of JS-built objects. This eliminates the duplicated logic and ensures desktop and TUI show identical cultural data.","status":"open","priority":2,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T17:09:40Z","created_by":"Hoang Manh","updated_at":"2026-02-20T17:09:40Z","dependencies":[{"issue_id":"aml-whc","depends_on_id":"aml-79h","type":"parent-child","created_at":"2026-02-21T00:09:40Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h","title":"Core-first multi-interface architecture","description":"Unify all clients (CLI/TUI/Waybar/Desktop/Mobile/Web/Widget) around a single Rust core API and presenter layer.","notes":"2026-02-20: Backlog cleanup pass. Keep epic active; prioritize foundational API/presenter/parity chain first.","status":"closed","priority":0,"issue_type":"epic","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:12Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:04Z","closed_at":"2026-02-20T15:59:04Z","close_reason":"Epic completed for cleanup scope; foundational architecture and migrations implemented, deferred prototypes tracked separately as closed-scope items."}
{"id":"aml-y4h.1","title":"Define stable core DTO contract","description":"Define DateQuery, DayInfo DTO, Holiday DTO, verbosity levels, locale and timezone behavior.","notes":"2026-02-20: Promoted as first execution item in cleanup.\n2026-02-20: Implemented stable DTO contract in crates/amlich-api (DateQuery, DayInfoDto, HolidayDto, timezone/locale/verbosity).","status":"closed","priority":0,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:13Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.1","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:12Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.10","title":"Prototype mobile interface path (React Native)","description":"Evaluate wasm-in-rn vs native bridge and implement thin adapter.","status":"closed","priority":2,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:18Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:50:09Z","closed_at":"2026-02-20T15:50:09Z","close_reason":"Scope cleanup: deferred prototype track; revisit after core API migration epic stabilizes.","dependencies":[{"issue_id":"aml-y4h.10","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:17Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.10","depends_on_id":"aml-y4h.5","type":"blocks","created_at":"2026-02-20T21:50:26Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.11","title":"Prototype macOS widget integration","description":"Define WidgetKit data source contract and bridge from core outputs.","status":"closed","priority":2,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:18Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:50:09Z","closed_at":"2026-02-20T15:50:09Z","close_reason":"Scope cleanup: deferred prototype track; revisit after core API migration epic stabilizes.","dependencies":[{"issue_id":"aml-y4h.11","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:18Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.11","depends_on_id":"aml-y4h.8","type":"blocks","created_at":"2026-02-20T21:50:26Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.12","title":"CI: enforce cross-target parity and interface tests","description":"Run Rust tests, JS/WASM parity tests, and fail on drift.","notes":"2026-02-20: Kept open; CI parity after adapters are switched.\n2026-02-20: CI now includes JS/Rust parity check; local verification passed (clippy/test/parity scripts).","status":"closed","priority":1,"issue_type":"chore","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:19Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.12","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:18Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.12","depends_on_id":"aml-y4h.4","type":"blocks","created_at":"2026-02-20T21:50:26Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.12","depends_on_id":"aml-y4h.5","type":"blocks","created_at":"2026-02-20T21:50:27Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.12","depends_on_id":"aml-y4h.6","type":"blocks","created_at":"2026-02-20T21:50:27Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.12","depends_on_id":"aml-y4h.8","type":"blocks","created_at":"2026-02-20T21:50:28Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.13","title":"Migration docs and deprecation plan","description":"Document target architecture, migration path, and deprecations for old JS engine.","notes":"2026-02-20: Kept open; finalize once CI parity is complete.\n2026-02-20: Added docs/migration-plan.md with architecture migration and JS deprecation plan.","status":"closed","priority":2,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:19Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.13","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:19Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.13","depends_on_id":"aml-y4h.12","type":"blocks","created_at":"2026-02-20T21:50:28Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.2","title":"Split presentation from core math","description":"Move formatters out of amlich-core into presenter module/crate.","notes":"2026-02-20: Kept open; starts after aml-y4h.1.\n2026-02-20: Presentation split completed via crates/amlich-presenter; formatting removed from amlich-core.","status":"closed","priority":1,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:13Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.2","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:13Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.2","depends_on_id":"aml-y4h.1","type":"blocks","created_at":"2026-02-20T21:50:19Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.3","title":"Create amlich-api facade crate","description":"Expose stable API methods returning DTOs for all interfaces.","notes":"2026-02-20: Kept open; starts after aml-y4h.2.\n2026-02-20: Added amlich-api facade crate and migrated consumers (CLI, Tauri, WASM) to facade DTOs.","status":"closed","priority":1,"issue_type":"feature","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:14Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.3","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:13Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.3","depends_on_id":"aml-y4h.1","type":"blocks","created_at":"2026-02-20T21:50:20Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.3","depends_on_id":"aml-y4h.2","type":"blocks","created_at":"2026-02-20T21:50:20Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.4","title":"Add golden parity test fixtures","description":"Create shared golden tests to verify core outputs across targets/timezones.","notes":"2026-02-20: Kept open; parity fixtures after API facade exists.\n2026-02-20: Added golden parity fixtures in crates/amlich-api/tests/fixtures/day-info-golden.json with parity test coverage.","status":"closed","priority":1,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:14Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.4","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:14Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.4","depends_on_id":"aml-y4h.3","type":"blocks","created_at":"2026-02-20T21:50:20Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.5","title":"Replace JS duplicated engine with Rust/WASM-backed API","description":"Deprecate duplicated algorithms in packages/core/engine and route to Rust-backed bindings.","notes":"2026-02-20: Kept open; depends on API/parity.\n2026-02-20: packages/core/engine now prefers Rust-backed CLI adapter with legacy fallback for compatibility.","status":"closed","priority":1,"issue_type":"feature","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:14Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.5","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:14Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.5","depends_on_id":"aml-y4h.3","type":"blocks","created_at":"2026-02-20T21:50:21Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.5","depends_on_id":"aml-y4h.4","type":"blocks","created_at":"2026-02-20T21:50:22Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.6","title":"Refactor CLI+Waybar to consume API facade","description":"CLI JSON/text modes should use amlich-api DTO + presenter outputs.","notes":"2026-02-20: Kept open; execute after aml-y4h.5.\n2026-02-20: CLI + Waybar migrated to amlich-api DayInfoDto/HolidayDto.","status":"closed","priority":2,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:15Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.6","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:14Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.6","depends_on_id":"aml-y4h.3","type":"blocks","created_at":"2026-02-20T21:50:22Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.6","depends_on_id":"aml-y4h.4","type":"blocks","created_at":"2026-02-20T21:50:23Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.7","title":"Build TUI app on shared API","description":"Create ratatui-based TUI consuming API facade.","status":"closed","priority":2,"issue_type":"feature","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:16Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:50:09Z","closed_at":"2026-02-20T15:50:09Z","close_reason":"Scope cleanup: deferred prototype track; revisit after core API migration epic stabilizes.","dependencies":[{"issue_id":"aml-y4h.7","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:16Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.7","depends_on_id":"aml-y4h.3","type":"blocks","created_at":"2026-02-20T21:50:24Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.7","depends_on_id":"aml-y4h.4","type":"blocks","created_at":"2026-02-20T21:50:25Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.8","title":"Refactor desktop Tauri app to shared API contract","description":"Align tauri command payloads with stable DTO from API facade.","notes":"2026-02-20: Kept open; execute after aml-y4h.5.\n2026-02-20: Desktop Tauri backend now uses amlich-api query and holiday facade.","status":"closed","priority":2,"issue_type":"task","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:17Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:59:03Z","closed_at":"2026-02-20T15:59:03Z","close_reason":"Completed in cleanup execution: API facade, presenter split, parity tests, CI enforcement, interface migrations, and migration docs delivered.","dependencies":[{"issue_id":"aml-y4h.8","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:16Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.8","depends_on_id":"aml-y4h.3","type":"blocks","created_at":"2026-02-20T21:50:23Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.8","depends_on_id":"aml-y4h.4","type":"blocks","created_at":"2026-02-20T21:50:24Z","created_by":"Hoang Manh","metadata":"{}"}]}
{"id":"aml-y4h.9","title":"Create web embed component package","description":"Web component wrapper for website embedding using WASM API.","status":"closed","priority":2,"issue_type":"feature","owner":"mnoy.dev@gmail.com","created_at":"2026-02-20T14:50:17Z","created_by":"Hoang Manh","updated_at":"2026-02-20T15:50:09Z","closed_at":"2026-02-20T15:50:09Z","close_reason":"Scope cleanup: deferred prototype track; revisit after core API migration epic stabilizes.","dependencies":[{"issue_id":"aml-y4h.9","depends_on_id":"aml-y4h","type":"parent-child","created_at":"2026-02-20T21:50:17Z","created_by":"Hoang Manh","metadata":"{}"},{"issue_id":"aml-y4h.9","depends_on_id":"aml-y4h.5","type":"blocks","created_at":"2026-02-20T21:50:25Z","created_by":"Hoang Manh","metadata":"{}"}]}
